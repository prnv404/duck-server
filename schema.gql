# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthResponse {
  accessToken: String!
  refreshToken: String!
  user: UserModel!
}

input CreateUserInput {
  fullName: String
  otp: String!
  phone: String!
  targetExam: String
  username: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Mutation {
  """Register a new user account"""
  createUser(input: CreateUserInput!): UserModel!

  """Delete the user's account"""
  deleteUser(
    """The ID of the user to delete"""
    id: ID!
  ): UserModel!
  logout: Boolean!
  refreshTokens: RefreshTokenResponse!
  requestOtp(input: RequestOtpInput!): Boolean!

  """Update an existing user profile"""
  updateUser(input: UpdateUserInput!): UserModel!
  verifyOtp(input: VerifyOtpInput!): AuthResponse!
}

type Query {
  """Get a user by ID"""
  getUser(
    """The string ID of the user"""
    id: ID!
  ): UserModel!

  """Get a list of all users"""
  getUsers(limit: Int! = 10, offset: Int! = 0): [UserModel!]!

  """Get the profile of the authenticated user"""
  me: UserModel!
  subjectById(id: String!): SubjectModel!
  subjects: [SubjectModel!]!
  topicById(id: String!): TopicModel!
  topicsBySubjectId(subjectId: String!): [TopicModel!]!
}

type RefreshTokenResponse {
  accessToken: String!
  refreshToken: String!
}

input RequestOtpInput {
  phone: String!
}

type SubjectModel {
  colorCode: String
  createdAt: DateTime!
  displayOrder: Int
  iconUrl: String
  id: ID!
  isActiveInRandom: Boolean
  name: String!
  topics: [TopicModel!]
  weightage: Int
}

type TopicModel {
  createdAt: DateTime!
  description: String
  displayOrder: Int
  id: ID!
  isActiveInRandom: Boolean
  name: String!
  subject: SubjectModel!
  subjectId: ID!
  weightage: Int
}

input UpdateUserInput {
  avatarUrl: String
  fcmToken: String
  fullName: String
  id: String!
  notificationEnabled: Boolean
  targetExam: String
  username: String
}

type UserModel {
  avatarUrl: String
  createdAt: DateTime!
  fcmToken: String
  fullName: String
  id: ID!
  lastActiveAt: DateTime
  notificationEnabled: Boolean!
  otp: String
  phone: String!
  refreshToken: String
  targetExam: String
  userStats: UserStatsModel
  username: String!
}

type UserStatsModel {
  createdAt: DateTime!
  currentStreak: Int!
  id: ID!
  lastActivityDate: DateTime
  level: Int!
  longestStreak: Int!
  overallAccuracy: String!
  totalCorrectAnswers: Int!
  totalPracticeTimeMinutes: Int!
  totalQuestionsAttempted: Int!
  totalQuizzesCompleted: Int!
  totalXp: Int!
  updatedAt: DateTime!
  user: UserModel!
  userId: ID!
  xpToNextLevel: Int!
}

input VerifyOtpInput {
  otp: String!
  phone: String!
}